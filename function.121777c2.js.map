{"version":3,"sources":["function.js"],"names":["intervalId","isX","isValid","cells","player","computer","onMove","result","startGame","emptyCells","rnd","Math","round","random","setInterval","loop","computerMove","$","on","sign","i","attr","j","html","whoWon","winner","alert","isTableFull","clearInterval","clearTable","arr","freeCells","arr2","bestMove","x","length","a","parseInt","b","Promise","resolve","reject","then","push","computerInLine","playerInLine","maybe","h","k","document","ready","dialog","resizable","height","modal","buttons","X","O"],"mappings":"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","file":"function.121777c2.js","sourceRoot":"..","sourcesContent":["var isX = true;\r\nvar isValid = false;\r\nvar cells = [];\r\nvar player = 1;\r\nvar computer = 0;\r\nvar onMove = 1;\r\nvar result = \"\";\r\nvar intervalId;\r\n\r\n$(document).ready(function () {\r\n\t$(\"#dialog-confirm\").dialog({\r\n\t\tresizable: false,\r\n\t\theight: 140,\r\n\t\tmodal: true,\r\n\t\tbuttons: {\r\n\t\t\tX: function () {\r\n\t\t\t\tisX = true;\r\n\t\t\t\t$(this).dialog(\"close\");\r\n\t\t\t\tstartGame();\r\n\t\t\t},\r\n\t\t\tO: function () {\r\n\t\t\t\tisX = false;\r\n\t\t\t\t$(this).dialog(\"close\");\r\n\t\t\t\tstartGame();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\n\r\nfunction startGame() {\r\n\temptyCells();\r\n\tif (isX) {\r\n\t\tplayer = 1;\r\n\t\tcomputer = 0;\r\n\t} else {\r\n\t\tplayer = 0;\r\n\t\tcomputer = 1;\r\n\t}\r\n\r\n\tvar rnd = Math.round(Math.random());\r\n\tif (rnd === 1) {\r\n\t\tonMove = player;\r\n\t} else {\r\n\t\tonMove = computer;\r\n\t}\r\n\r\n\tintervalId = setInterval(loop, 100);\r\n}\r\n\r\nfunction loop() {\r\n\tif (onMove === player) {\r\n\t\tisValid = true;\r\n\t} else {\r\n\t\tcomputerMove();\r\n\t\tonMove = player;\r\n\t}\r\n\r\n\t$(\".cell\").on(\"click\", function () {\r\n\t\tif (isValid) {\r\n\t\t\tvar sign = player === 0 ? \"O\" : \"X\";\r\n\r\n\t\t\tvar i = $(this).attr(\"id\")[1] - 1;\r\n\t\t\tvar j = $(this).attr(\"id\")[2] - 1;\r\n\t\t\tif (cells[i][j] === -1) {\r\n\t\t\t\tcells[i][j] = player;\r\n\t\t\t\t$(this).html(sign);\r\n\t\t\t\tisValid = false;\r\n\t\t\t\tif (!whoWon(cells)) {\r\n\t\t\t\t\tonMove = computer;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tvar winner = whoWon(cells);\r\n\tif (winner) {\r\n\t\tif (winner === \"computer\") {\r\n\t\t\talert(\"You Lost, Better Luck Next Time\");\r\n\t\t} else {\r\n\t\t\talert(\"Congratulation!! You Won\");\r\n\t\t}\r\n\t\tresult = winner;\r\n\t} else if (isTableFull(cells)) {\r\n\t\tresult = \"Draw\";\r\n\t\talert(\"Match Is \" + result);\r\n\t}\r\n\tif (result !== \"\") {\r\n\t\tclearInterval(intervalId);\r\n\t\tresult = \"\";\r\n\t\tcells = [];\r\n\t\tclearTable();\r\n\t\tstartGame();\r\n\t}\r\n}\r\n\r\nfunction isTableFull(cells) {\r\n\tfor (var i in cells) {\r\n\t\tfor (var j in cells[i]) {\r\n\t\t\tif (cells[i][j] === -1) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn true;\r\n}\r\n\r\nfunction whoWon(cells) {\r\n\tfor (var i in cells) {\r\n\t\tif (\r\n\t\t\tcells[i][0] !== -1 &&\r\n\t\t\tcells[i][1] !== -1 &&\r\n\t\t\tcells[i][2] !== -1 &&\r\n\t\t\tcells[i][0] === cells[i][1] &&\r\n\t\t\tcells[i][0] === cells[i][2]\r\n\t\t) {\r\n\t\t\tif (cells[i][0] === player) {\r\n\t\t\t\treturn \"player\";\r\n\t\t\t} else {\r\n\t\t\t\treturn \"computer\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfor (var i in cells) {\r\n\t\tif (\r\n\t\t\tcells[0][i] !== -1 &&\r\n\t\t\tcells[1][i] !== -1 &&\r\n\t\t\tcells[2][i] !== -1 &&\r\n\t\t\tcells[0][i] === cells[1][i] &&\r\n\t\t\tcells[0][i] === cells[2][i]\r\n\t\t) {\r\n\t\t\tif (cells[0][i] === player) {\r\n\t\t\t\treturn \"player\";\r\n\t\t\t} else {\r\n\t\t\t\treturn \"computer\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (\r\n\t\t(cells[0][0] !== -1 &&\r\n\t\t\tcells[1][1] !== -1 &&\r\n\t\t\tcells[2][2] !== -1 &&\r\n\t\t\tcells[0][0] === cells[1][1] &&\r\n\t\t\tcells[0][0] === cells[2][2]) ||\r\n\t\t(cells[0][2] !== -1 &&\r\n\t\t\tcells[1][1] !== -1 &&\r\n\t\t\tcells[2][0] !== -1 &&\r\n\t\t\tcells[0][2] === cells[1][1] &&\r\n\t\t\tcells[0][2] === cells[2][0])\r\n\t) {\r\n\t\tif (cells[1][1] === player) {\r\n\t\t\treturn \"player\";\r\n\t\t} else {\r\n\t\t\treturn \"computer\";\r\n\t\t}\r\n\t}\r\n\r\n\treturn false;\r\n}\r\n\r\nfunction computerMove() {\r\n\tvar arr = freeCells();\r\n\tvar arr2 = bestMove();\r\n\tvar sign = computer === 0 ? \"O\" : \"X\";\r\n\tvar x = Math.round(Math.random() * arr.length);\r\n\r\n\tif (arr2.length >= 1) {\r\n\t\tvar i = arr2[0];\r\n\t\tvar j = arr2[1];\r\n\t} else if (arr.length >= 1) {\r\n\t\tvar i = arr[x][0];\r\n\t\tvar j = arr[x][1];\r\n\t}\r\n\tif ((arr.length >= 1 || arr2.length >= 1) && cells[i][j] === -1) {\r\n\t\tvar a = parseInt(i) + 1;\r\n\t\tvar b = parseInt(j) + 1;\r\n\t\tnew Promise(function (resolve, reject) {\r\n\t\t\t$(\"#c\" + a + b).html(sign);\r\n\t\t\tresolve();\r\n\t\t}).then(function () {\r\n\t\t\tcells[i++][j++] = computer;\r\n\t\t});\r\n\t\treturn 0;\r\n\t}\r\n}\r\n\r\nfunction freeCells() {\r\n\tvar arr = [];\r\n\tfor (var i in cells) {\r\n\t\tfor (var j in cells[i]) {\r\n\t\t\tif (cells[i][j] === -1) {\r\n\t\t\t\tarr.push([i, j]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn arr;\r\n}\r\n\r\nfunction bestMove() {\r\n\tvar computerInLine = 0;\r\n\tvar playerInLine = 0;\r\n\tvar a = 0;\r\n\tvar maybe = null;\r\n\t//check rows\r\n\tfor (var i in cells) {\r\n\t\tfor (var j in cells[i]) {\r\n\t\t\tif (cells[i][j] !== -1) {\r\n\t\t\t\tif (cells[i][j] === computer) {\r\n\t\t\t\t\tcomputerInLine++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tplayerInLine++;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\ta = j;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (computerInLine === 2 && a !== 0) {\r\n\t\t\treturn [i, a];\r\n\t\t} else if (playerInLine === 2 && a !== 0) {\r\n\t\t\tmaybe = [i, a];\r\n\t\t}\r\n\t\ta = 0;\r\n\t\tcomputerInLine = 0;\r\n\t\tplayerInLine = 0;\r\n\t}\r\n\r\n\t//check columns\r\n\r\n\tfor (var j in cells) {\r\n\t\tfor (var i in cells[i]) {\r\n\t\t\tif (cells[i][j] !== -1) {\r\n\t\t\t\tif (cells[i][j] === computer) {\r\n\t\t\t\t\tcomputerInLine++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tplayerInLine++;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\ta = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (computerInLine === 2 && a !== 0) {\r\n\t\t\treturn [a, j];\r\n\t\t} else if (playerInLine === 2 && a !== 0) {\r\n\t\t\tmaybe = [a, j];\r\n\t\t}\r\n\t\ta = 0;\r\n\t\tcomputerInLine = 0;\r\n\t\tplayerInLine = 0;\r\n\t}\r\n\r\n\t//check diagonals\r\n\tvar h = 0;\r\n\ta = -1;\r\n\tvar b = -1;\r\n\tplayerInLine = 0;\r\n\tcomputerInLine = 0;\r\n\tfor (var k = 0; k < 3; k++) {\r\n\t\tif (cells[k][h] !== -1) {\r\n\t\t\tif (cells[k][h] === computer) {\r\n\t\t\t\tcomputerInLine++;\r\n\t\t\t} else {\r\n\t\t\t\tplayerInLine++;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ta = k;\r\n\t\t\tb = h;\r\n\t\t}\r\n\r\n\t\tif (computerInLine === 2 && a !== -1 && b !== -1) {\r\n\t\t\treturn [a, b];\r\n\t\t} else if (playerInLine === 2 && a !== -1 && b != -1) {\r\n\t\t\tmaybe = [a, b];\r\n\t\t}\r\n\r\n\t\th++;\r\n\t}\r\n\r\n\th = 0;\r\n\ta = -1;\r\n\tb = -1;\r\n\tplayerInLine = 0;\r\n\tcomputerInLine = 0;\r\n\r\n\tfor (var k = 2; k >= 0; k--) {\r\n\t\tif (cells[k][h] !== -1) {\r\n\t\t\tif (cells[k][h] === computer) {\r\n\t\t\t\tcomputerInLine++;\r\n\t\t\t} else {\r\n\t\t\t\tplayerInLine++;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ta = k;\r\n\t\t\tb = h;\r\n\t\t}\r\n\r\n\t\tif (computerInLine === 2 && a !== -1 && b !== -1) {\r\n\t\t\treturn [a, b];\r\n\t\t} else if (playerInLine === 2 && a !== -1 && b != -1) {\r\n\t\t\tmaybe = [a, b];\r\n\t\t}\r\n\r\n\t\th++;\r\n\t}\r\n\r\n\tif (maybe !== null) return maybe;\r\n\r\n\treturn [];\r\n}\r\n\r\nfunction clearTable() {\r\n\tfor (var a = 1; a <= 3; a++) {\r\n\t\tfor (var b = 1; b <= 3; b++) {\r\n\t\t\t$(\"#c\" + a + b).html(\"\");\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction emptyCells() {\r\n\tfor (var a = 0; a < 3; a++) {\r\n\t\tcells.push([-1, -1, -1]);\r\n\t}\r\n}\r\n"]}